# risc-v 寄存器

## RV32I 寄存器

1. 32 个通用寄存器 x0-x31
1. x0 恒为 0
1. x1/ra: return address 返回地址寄存器
   - 调用者保存的
   - 不过它并不会在每次调用子函数的时候都保存一次，而是在函数的开头和结尾保存/恢复即可。虽然 ra 看上去和其它被调用者保存寄存器保存的位置一样，但是它确实是调用者保存的。
1. x2/sp: Stack pointer 栈指针 (每次分配栈空间，就要把 sp 向低地址移动)
   - 被调用者保存的
1. x3/gp: global pointer 全局变量是基于 gp 加上一个偏移量来访问的
1. x4/tp: thread pointer
1. x8/fp: 当前栈帧的起始位置
   - 它既可作为 s0 临时寄存器，也可作为栈帧指针（Frame Pointer）寄存器，表示当前栈帧的起始位置
   - 被调用者保存
1. Saved register
   - x8 x9 x18-x27 (s0-s11)作为临时寄存器使用
1. Temporary
   - x5-x7 x28-x31 (t0-t6) 作为临时寄存器使用
1. return value
   - x10-x11 (a0-a1) 用来保存返回值
1. function argument
   - x10-x17 (a0-a7) 用来传递输入参数

## 调用分类

| 寄存器组                | 保存者       |
| ----------------------- | ------------ |
| a0~a7（x10~x17）       | 调用者保存   |
| t0~t6 (x5~x7,x28~x31)   | 调用者保存   |
| s0~s11 (x8~x9,x18~x27) | 被调用者保存 |
